const constructPromise=(e,t)=>{let o=t.split("\n").filter(((e,t,o)=>o.indexOf(e)===t)).reverse();for(let t of o)e=e.then((()=>doJob(t)));e.then((()=>console.log("done")))},getSelectMessagesButton=e=>Array.from(e.querySelectorAll('[role="button"]')).filter((e=>(console.log(e.textContent),"Select messages"===e.textContent.trim())))[0],doTelegramBan=function(e){const t=Promise.resolve();constructPromise(t,e)},doJob=e=>{const t=e=>new Promise((t=>setTimeout(t,e)));let o=new Event("input",{bubbles:!0,cancelable:!0}),n=new MouseEvent("click",{bubbles:!0,cancelable:!0}),l=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0});new MouseEvent("mouseup",{bubbles:!0,cancelable:!0});return new Promise((t=>{const c=document.querySelector("#telegram-search-input");c.dispatchEvent(l),c.dispatchEvent(n),console.log(c),console.log(e),c.value=e,c.dispatchEvent(o),t()})).then((()=>t(1e4))).then((()=>{const e=document.querySelectorAll(".search-section")[0],t=e.querySelectorAll(".chat-item-clickable")[0],o=e.querySelectorAll(".ListItem-button")[0];console.log(e),console.log(t),console.log(o),o.dispatchEvent(l);const c=document.querySelectorAll('[aria-label="More actions"]')[0];c.dispatchEvent(n),console.log(c)})).then((()=>t(4e3))).then((()=>{const e=document.querySelector("#portals"),t=(o=e,Array.from(o.querySelectorAll('[role="button"]')).filter((e=>(console.log(e.textContent),"Select messages"===e.textContent.trim())))[0]);var o;console.log(t),t.dispatchEvent(n)})).then((()=>t(4e3))).then((()=>{const e=document.querySelectorAll(".message-select-control");console.log("MessageSelector {}",e);for(let t of e)console.log(t),t.dispatchEvent(n)})).then((()=>t(3e3))).then((()=>{document.querySelectorAll(".icon-flag")[0].dispatchEvent(n)})).then((()=>t(3e3))).then((()=>{document.querySelectorAll(".modal-content")[0].querySelectorAll("span")[1].dispatchEvent(n)})).then((()=>t(3e3))).then((()=>{document.querySelectorAll(".confirm-dialog-button")[0].dispatchEvent(n)})).then((()=>t(3e3))).catch((e=>console.log(e)))};fetch("https://raw.githubusercontent.com/oleksandr-skoryi/telegram-ban-public/master/channels.txt").then((e=>e.text())).then((e=>doTelegramBan(e)));